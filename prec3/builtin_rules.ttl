PREFIX prec: <http://bruy.at/prec#>
PREFIX pvar: <http://bruy.at/prec-trans#>
PREFIX pgo:  <http://ii.uwb.edu.pl/pgo#>
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .

####################
# ==== Relationships

# - These rules are for the following pattern:
# pvar:self a pgo:Edge
# pvar:self rdf:subject      pvar:source
# pvar:self rdf:predicate    pvar:relationLabel
# pvar:self rdf:object       pvar:destination
# pvar:self pvar:propertyKey pvar:propertyValue

# Encoding as standard RDF Reificaiton. It is the default pattern, so this
# target is not useful in this form.
prec:RDFReification a prec:EdgeTransformation ;
  prec:composedOf
    << pvar:self a pgo:Edge >> ,
    << pvar:self rdf:subject      pvar:source        >> ,
    << pvar:self rdf:predicate    pvar:relationLabel >> ,
    << pvar:self rdf:object       pvar:destination   >>
# , << pvar:self pvar:propertyKey pvar:propertyValue >>
  .

# Encoding as RDF star using regular RDF triples that can be annotated
prec:RdfStarUnique a prec:EdgeTransformation ;
  prec:composedOf
    <<    pvar:source pvar:relationLabel pvar:destination               >> ,
    << << pvar:source pvar:relationLabel pvar:destination >> a pgo:Edge >>
 #, << << pvar:source pvar:edgeLabel     pvar:destination >> pvar:propertyKey pvar:propertyValue >>
    .

# Encoding as RDF star using occurrences
prec:RdfStarOccurrence a prec:EdgeTransformation ;
  prec:composedOf
    << pvar:self prec:occurrenceOf << pvar:source pvar:relationLabel pvar:destination >> >> ,
    << pvar:self a pgo:Edge >>
 #, << pvar:self pvar:propertyKey pvar:propertyValue >>
    .

# Encoding as singleton property
prec:SingletonProperty a prec:EdgeTransformation ;
  prec:composedOf
    << pvar:source pvar:self               pvar:destination   >> ,
    << pvar:self   rdf:singletonPropertyOf pvar:relationLabel >> ,
    << pvar:self a pgo:Edge >> 
 #, << pvar:self   pvar:propertyKey        pvar:propertyValue >>
    .
